---
// Assuming the `getTranslations` function and `education` data structure are similar to the previous context
import { getTranslations } from "../../i18n/utils"
import Tooltip from "./detail-tooltip.astro"

const { lang } = Astro.props
const { education } = getTranslations(lang)
---

<div class="vstack">
	<table class="education-table">
		<thead>
			<tr class="table-header">
				<th class="table-header-cell table-header-cell--left">
					{education.headings.period}
				</th>
				<th class="table-header-cell">
					{education.headings.schoolName}
				</th>
				<th class="table-header-cell table-header-cell--right">
					{education.headings.location}
				</th>
			</tr>
		</thead>
		<tbody>
			{
				education.schools.map((school, index) => (
					<tr
						class={`table-row ${index % 2 === 0 ? "table-row--even" : "table-row--odd"}`}>
						<td
							class={`table-cell ${index === education.schools.length - 1 ? "table-cell--bottom-left" : ""}`}>
							<Tooltip
								text={school.duration}
								tooltip={`${school.start} - ${school.end}`}
								float="right"
							/>
						</td>
						<td class="table-cell">
							<Tooltip text={school.name} tooltip={school.grade} />
						</td>
						<td
							class={`table-cell ${index === education.schools.length - 1 ? "table-cell--bottom-right" : ""}`}>
							<Tooltip
								text={school.location.country}
								tooltip={school.location.region}
							/>
						</td>
					</tr>
				))
			}
		</tbody>
	</table>
</div>

<style>
	.vstack {
		overflow-x: auto;
	}

	.education-table {
		table-layout: auto;
		max-width: 50rem;
		white-space: nowrap;
		border-radius: 0.5rem;
		border-collapse: collapse;
		width: 100%;
		margin: 0.5rem;
	}

	.table-header {
		background-color: teal;
		padding: 1rem;
	}

	.table-header-cell {
		padding: 0.7rem 1rem;
		color: white;
		font-size: 1rem;
	}

	.table-header-cell--left {
		border-top-left-radius: 0.5rem;
	}

	.table-header-cell--right {
		border-top-right-radius: 0.5rem;
	}

	.table-row--even {
		background-color: #f7fafc;
	}

	.table-row--odd {
		background-color: #edf2f7;
	}

	.table-cell {
		padding: 0.5rem 1rem;
		vertical-align: middle;
		font-size: 1rem;
	}

	.table-cell--bottom-left {
		border-bottom-left-radius: 0.5rem;
	}

	.table-cell--bottom-right {
		border-bottom-right-radius: 0.5rem;
	}

	@media screen and (max-width: 768px) {
		.education-table {
			margin: 0.2rem;
		}
	}
</style>
