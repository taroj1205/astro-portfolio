---
import MobileContent from "./mobile-content.astro"
---

<form id="mobile-toggle">
  <input id="close-drawer" type="checkbox" name="drawer" />
  <label class="toggle" for="close-drawer" title="Open mobile menu">
    <div></div>
    <div></div>
    <div></div>
  </label>
  <div id="drawer-content">
    <MobileContent />
  </div>
</form>

<style>
  #mobile-toggle {
    z-index: calc(var(--overlay-z-index) + 1);
  }

  #uncheck {
    display: none;
  }

  #close-drawer:checked ~ label div:first-child {
    transform: rotate(45deg);
  }

  #close-drawer:checked ~ label div:last-child {
    transform: rotate(-45deg);
  }

  #close-drawer:checked ~ label div:nth-child(2) {
    opacity: 0;
    transform: translateX(10px);
  }

  #close-drawer {
    display: none;
  }

  #close-drawer:checked ~ #drawer-content {
    opacity: 1;
    visibility: visible;
  }

  #close-drawer:checked ~ .toggle div {
    background-color: var(--mobile-toggle-bg);
  }

  .toggle {
    margin: 0.5rem;
    z-index: calc(var(--overlay-z-index) + 3);
    position: relative;
  }

  label {
    width: 2.5rem;
    height: 2.5rem;
    cursor: pointer;
    padding: 0.25rem;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 0.25rem;
    transition: background-color 0.3s;
  }

  label:hover {
    color: var(--text-color);
  }

  label div {
    width: 1.5rem;
    height: 0.1rem;
    background-color: var(--gray-color);
    transition:
      transform 0.3s,
      opacity 0.3s;
    position: absolute;
  }

  label div:first-child {
    transform: translateY(-0.5rem);
  }

  label div:nth-child(2) {
    transition:
      transform 0.4s,
      opacity 0.4s;
  }

  label div:last-child {
    transform: translateY(0.5rem);
  }

  #drawer-content {
    background-color: var(--mobile-content-bg);
    position: fixed;
    left: 0;
    top: 0;
    transition:
      opacity 0.3s ease-in-out,
      visibility 0.3s ease-in-out;
    height: 100vh;
    opacity: 0;
    z-index: var(--overlay-z-index);
    visibility: hidden;
  }
  #drawer-content label {
    margin-top: 0.5rem;
    margin-left: 0.5rem;
    border-radius: 100%;
    width: 2.5rem;
    height: 2.5rem;
    color: var(--background-black);
    z-index: calc(var(--overlay-z-index) + 2);
    position: absolute;
  }

  #drawer-content #social-contents {
    padding: 1rem;
  }
</style>
